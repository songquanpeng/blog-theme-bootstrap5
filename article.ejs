<%- include('./partials/header') %>
<div class="container px-lg-2 pb-3 bg-white">
    <div class="row mb-3">
        <div id="left" class="col-xl-8 pr-xl-5 pt-xl-3 pt-0">
            <article id="article" class="mb-5 markdown-body" style="padding: 16px 24px">
                <h1 id="contentTitle"><%-page.title%></h1>
                <small class="d-inline-block mt-2 ml-1">
                    <% page.tag.trim().split(";").forEach(function (tag) {if (tag !== "") {%>
                        <span class="me-3">
                            <i class="bi bi-tags-fill"></i>
                            <a class="is-light tag-font" href='/tag/<%= tag %>'><%= tag %></a>
                        </span>
                    <% }}); %>
                    <span class="me-3 tag-font">
                        <i class="bi bi-calendar2-week-fill"></i> <%-page.createdAt%>
                    </span>
                    <span class="me-3 tag-font">
                        <i class="bi bi-pencil-square"></i> <%-page.updatedAt%>
                    </span>
                    <span>
                        <i class="bi bi-eye-fill tag-font"></i> <%-page.view%> 次浏览
                    </span>
                </small>
                <%- page.converted_content %>
                <p class="copyright"><strong>Links: <a href="<%- page.link %>"><%- page.link %></a></strong></p>
                <%- config.copyright %>
                <%- config.ad %>
            </article>
            <%- include('./partials/prev-next') %>
            <%- include('./partials/comment') %>
        </div>
        <div id="right" class="col-xl-4 pt-3">
            <% if(page.categoryList.length > 1) { %>
                <section id="tags" class="mt-4 mb-5 bg-white">
                    <div class="card">
                        <div class="card-header">专题：<%- page.category %></div>
                        <div class="card-body d-flex flex-column align-items-center">
                            <div class="mb-4point5 w-100 d-flex">
                                <ul class="toc-list">
                                    <% page.categoryList.forEach((p)=>{ %>
                                        <li><a href="/page/<%= p.link %>"><%= p.title %></a></li>
                                    <% }) %>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>
            <% } %>

            <section id="toc-container" class="mt-4 mb-5 bg-white sticky-top">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-tags mr-2"></i>
                        目录
                    </div>
                    <div class="card-body">
                        <ul id="toc" class="toc-list">

                        </ul>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>


<script>
  (function() {
    generateTOC();
  })();
</script>

<%- include('./partials/footer') %>
